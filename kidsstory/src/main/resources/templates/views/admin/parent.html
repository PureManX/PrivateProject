<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
	  layout:decorator="layout/adminLayout">
<head>
</head>
<body class="hold-transition skin-red-light sidebar-mini">
	<div class="wrapper">
		<!-- Content Wrapper. Contains page content -->
		<div class="content-wrapper" layout:fragment="content">
			<!-- Content Header (Page header) -->
			<section class="content-header">
				<h1>
					학부형 관리
					<small>Optional description</small>
				</h1>
				<ol class="breadcrumb">
					<li><a href="#"><i class="fa fa-dashboard"></i> Level</a></li>
					<li class="active">Here</li>
				</ol>
			</section>

			<!-- Main content -->
			<section class="content">
				<div class="box box-solid box-default">

					<div class="box-header with-border">
						<h3 class="box-title">학부형 등록</h3>
					</div>
					<!-- /.box-header -->
					<!-- form start -->
					<form class="form-horizontal" id="parent-form">
						<div class="box-body">
							<div class="form-group">
								<label class="col-sm-2 control-label">이름</label>
								<div class="col-sm-10">
									<input type="text" class="form-control" placeholder="이름" name="userNm"/>
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label">전화번호</label>
								<div class="col-sm-10">
									<input type="text" class="form-control" placeholder="전화번호" name="contact"/>
								</div>
							</div>
						</div>
						<!-- /.box-body -->
						<div class="box-footer">
							<button type="reset" class="btn btn-default">취소</button>
							<button type="button" class="btn btn-info pull-right" onclick="createParent()">저장</button>
						</div>
						<!-- /.box-footer -->
					</form>

				</div>
				<!-- Your Page Content Here -->

			</section>
			<!-- /.content -->
		</div>
		<!-- /.content-wrapper -->
	</div>
	<script th:inline="javascript" layout:fragment="script">
		/*<![CDATA[*/

		$(document).ready(function () {
		});

		function createParent() {
			var param = $("#parent-form").serializeObject();

			console.log(param);

			$.ajax({
				url : "/user/parent/create",
				type : "POST",
				data : JSON.stringify(param),
				headers: {
					'Accept': 'application/json',
					'Content-Type': 'application/json'
				},
				dataType : "JSON",
				success : function (data) {
					alert("성공적으로 저장되었습니다");
				}
			});

		}
		/*]]>*/
	</script>
</body>
</html>