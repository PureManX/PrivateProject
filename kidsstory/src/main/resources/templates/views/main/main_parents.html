<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
	  layout:decorator="layout/mobileLayout">
<head>
	<style>
		.buttonWrap {
			margin-top: 12vw;
			text-align: center;
		}
		.buttonWrap a{
			display :inline-block;
			margin: 0 2vw;
			width: 20vw;
			height: 20vw;
		}
		.buttonWrap a img.menuBtn {
			width: 100%;
			height: auto;
		}

		div.infoWrap {
			background: #FFF;
			border-bottom: 1px solid #ffdf00;
			text-align: center;
		}
		div.infoWrap article{
			padding: 8vw;
		}
		div.infoWrap article div.profile-image-wrap{
			width: 40vw;
		    height: 40vw;
		    display: inline-block;
		    position: relative;
		}
		div.infoWrap article div.profile-text-wrap{
			margin-top: 5vw;
		}
		div.infoWrap article img{
			width: 100%;
			height: 100%;
		}
		.profile-wrap{
		    display: inline-block;
		    width: 100%;
		    height: 100%;
		    text-align: center;
		    border: 1px solid #b9b67a;
		    padding: 3vw;
   		}

		/* Bootstrap modal align vertical middle*/
		.modal {
			text-align: center;
			padding: 0 !important;
		}

		.modal:before {
			content: '';
			display: inline-block;
			height: 100%;
			vertical-align: middle;
			margin-right: -4px;
		}

		.modal-dialog {
			display: inline-block;
			text-align: left;
			vertical-align: middle;
		}
		.modal-header {
			/* 		background: #ffeccd; */
			font-size: 1.2em;
			font-weight: bold;
		}
		.modal-body {
			text-align: center;
		}
		.modal-content {
			border: none;
			border-radius: 0;
		}
		.mContents {
			background : #FFF;
			height: 100%;
		}
		#profile-carousel .carousel-control {
			background-image: none;
			width: 10vw;
		}
		#profile-carousel .carousel-control span{
			color: #e5cf39;
		}
		.carousel-indicators li, .carousel-indicators li.active {
			background-color: #e5cf39;
		}
		#profile-carousel .glyphicon-camera {
			width: 12vw;
			height: 12vw;
			position: absolute;
			background: rgba(0,0,0,0);
			right: 0;
			top: 0;
			font-size: 8vw;
			color: #ffdf00;
			padding: 2vw;
		}
		#profile-carousel .glyphicon-cloud-upload {
			width: 12vw;
			height: 12vw;
			position: absolute;
			background: rgba(0,0,0,0);
			right: 0;
			top: 12vw;
			font-size: 8vw;
			color: #ffdf00;
			padding: 2vw;
		}
		input.file , .ui-input-text{
			visibility: hidden;
			position: absolute;
		}
		
	</style>
<!-- 	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" /> -->
	<script src="/js/lib/jquery.bcSwipe.js"></script>
</head>
<body>
	<div id="content_wrap">
		<section class="mContents" layout:fragment="content">
			<div class="infoWrap">
<!-- 				<article> -->
<!-- 					<div class="profile-wrap" th:each="child : ${loginUser.children}"> -->
<!-- 						<div class="profile-image-wrap"> -->
<!-- 							<img th:src="@{/file/data/{imgSrc}(imgSrc=${child.imgSrc})}" class="img-circle" /> -->
<!-- 						</div> -->
<!-- 						<div class="profile-text-wrap"> -->
<!-- 							<h5 class="profile-text-name fontsize_15e" th:text="${child.userNm}"></h5> -->
<!-- 							<h5 class="profile-text-class fontsize_12e" th:text="${loginUser.userClass.clsNm} + 반"></h5> -->
<!-- 						</div> -->
<!-- 					</div> -->
<!-- 				</article> -->

				<article id="profile-carousel" class="carousel slide" data-ride="carousel" data-interval="false">
					<!-- Indicators -->
					<ol class="carousel-indicators">
						<li data-target="#profile-carousel" th:each="child, iterStat : ${loginUser.children}" 
							th:attr="data-slide-to=${iterStat.index}" th:classappend="${iterStat.index == 0} ? active : ''"></li>
					</ol>
					
					<!-- Wrapper for slides -->
					<div class="carousel-inner">
						<div class="item profile-wrap" th:each="child, iterStat : ${loginUser.children}" th:classappend="${iterStat.index == 0} ? active : ''">
							<span class="glyphicon glyphicon-camera browse"></span>
							<span class="glyphicon glyphicon-cloud-upload"></span>
							<input type="file" class="file" th:attr="id=file_+${iterStat.index}"/>
							<div class="profile-image-wrap">
								<img th:src="@{/file/data/{imgSrc}(imgSrc=${child.imgSrc})}" class="img-circle" />
							</div>
							<div class="profile-text-wrap">
								<h5 class="profile-text-name fontsize_15e" th:text="${child.userNm}"></h5>
								<h5 class="profile-text-class fontsize_12e" th:text="${loginUser.userClass.clsNm} + 반"></h5>
							</div>
						</div>
					</div>

					<!-- Left and right controls -->
					<a class="left carousel-control" href="#profile-carousel" role="button" data-slide="prev">
						<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
						<span class="sr-only">Previous</span>
					</a>
					<a class="right carousel-control" href="#profile-carousel" role="button" data-slide="next">
						<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
						<span class="sr-only">Next</span>
					</a>
				</article>
			</div>
			
			<div class="buttonWrap">
				<article>
					<a onclick="readyButton()">
						<img class="menuBtn" th:src="@{/images/menu/parents/btn_notice.png}" />
					</a>
					<a onclick="readyButton()">
						<img class="menuBtn" th:src="@{/images/menu/parents/btn_album.png}" />
					</a>
					<a onclick="readyButton()">
						<img class="menuBtn" th:src="@{/images/menu/parents/btn_eduschd.png}" />
					</a>
					<a th:href="@{/menu/list}">
						<img class="menuBtn" th:src="@{/images/menu/parents/btn_menu.png}" />
					</a>
					<a th:href="@{/board/parent/unboadrequest/on}">
						<img class="menuBtn" th:src="@{/images/menu/parents/btn_noatt.png}" />
					</a>
					<a th:href="@{/board/parent/unboadrequest/off}">
						<img class="menuBtn" th:src="@{/images/menu/parents/btn_nocome.png}" />
					</a>
					<a th:href="@{/test/parent/reqMedi}">
						<img class="menuBtn" th:src="@{/images/menu/parents/btn_reqmedi.png}" />
					</a>
					<a th:href="@{/notice/list}">
						<img class="menuBtn" th:src="@{/images/menu/parents/btn_school_notice.png}" />
					</a>
				</article>
			</div>

			<div class="modal fade" id="myModal" tabindex="-1" role="dialog"
				 aria-labelledby="myModalLabel">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
							<h4 class="modal-title" id="myModalLabel">등하교 미탑승 처리</h4>
						</div>
						<div class="modal-body">
							<div id="datepicker">
							</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">취소</button>
							<button type="button" class="btn btn-warning">미탑승 요청</button>
						</div>
					</div>
				</div>
			</div>
		</section>
	</div>
	<script th:inline="javascript" layout:fragment="script">
		/*<![CDATA[*/
		$(document).ready(function() {
			$("#datepicker").datepicker({
				setDate : new Date()
				,todayHighlight : true
				,language : "kr"
			});
			
			
			$(".carousel").bcSwipe({ threshold: 50 });
			//swipeCarousel();
			
// 			$(document).on('click', '.browse', function(){
// 				var file = $(this).parent().parent().parent().find('.file');
// 				file.trigger('click');
// 			});
			
			$(".browse").each(function(){
				$(this).click(function(){
					var file = $(this).parent().find("input.file");
					file.trigger('click');
				})
			})
			
			$(".file").each(function(){
				console.log($(this).attr("id"));
			})
			
// 			$(document).on('change', '.file', function(){
// 				$(this).parent().find('.form-control').val($(this).val().replace(/C:\\fakepath\\/i, ''));
// 			});
		});
		
		function swipeCarousel() {
	  		 $(".carousel-inner").swiperight(function() {  
	    		  $(this).parent().carousel('prev');  
		    		});  
			   $(".carousel-inner").swipeleft(function() {  
			      $(this).parent().carousel('next');  
		   });  
		}

		
		function readyButton() {
			alert("준비중입니다");
		}
		/*]]>*/
	</script>
</body>
</html>






